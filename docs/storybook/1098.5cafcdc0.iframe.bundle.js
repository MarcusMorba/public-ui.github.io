"use strict";(self.webpackChunk_public_ui_storybook=self.webpackChunk_public_ui_storybook||[]).push([[1098],{"./node_modules/@public-ui/components/dist/esm/kol-select.entry.js":(O,u,d)=>{d.r(u),d.d(u,{kol_select:()=>b});var n=d("./node_modules/@public-ui/components/dist/esm/index-1a5ffdc0.js"),m=d("./node_modules/@public-ui/components/dist/esm/reuse-f9be4952.js"),_=d("./node_modules/@public-ui/components/dist/esm/controller-15aca0d1.js"),r=d("./node_modules/@public-ui/components/dist/esm/prop.validators-a4eb5bf9.js"),y=d("./node_modules/@public-ui/components/dist/esm/validator-8ee8737c.js"),f=d("./node_modules/@public-ui/components/dist/esm/controller-7ad4abec.js");/*!
 * KoliBri - The accessible HTML-Standard
 */const v=e=>typeof e=="object"&&e!==null&&typeof e.label=="string"&&e.label.length>0&&(!Array.isArray(e.options)||e.options.find(t=>v(t)===!1)===void 0);class g extends _.I{constructor(t,s,a){super(t,s,a),this.keyOptionMap=new Map,this.getOptionByKey=l=>this.keyOptionMap.get(l),this.isValueInOptions=(l,i)=>i.find(o=>typeof o.value=="string"?o.value===l:!!Array.isArray(o.options)&&this.isValueInOptions(l,o.options))!==void 0,this.filterValuesInOptions=(l,i)=>l.filter(o=>this.isValueInOptions(o,i)!==void 0),this.beforePatchListValue=(l,i)=>{const o=i.has("_list")?i.get("_list"):this.component.state._list;if(Array.isArray(o)&&o.length>0){this.keyOptionMap.clear(),(0,f.f)(this.keyOptionMap,o);const h=i.has("_value")?i.get("_value"):this.component.state._value,c=this.filterValuesInOptions(Array.isArray(h)&&h.length>0?h:[],o);this.component._multiple===!1&&c.length===0?(i.set("_value",[o[0].value]),this.onStateChange()):Array.isArray(h)&&c.length<h.length&&(i.set("_value",c),this.onStateChange())}},this.component=t}validateHeight(t){(0,r.w)(this.component,"_height",t)}validateList(t){(0,r.c)(this.component,"_list",v,t,void 0,{hooks:{beforePatch:this.beforePatchListValue}})}validateMultiple(t){(0,r.b)(this.component,"_multiple",t,{hooks:{beforePatch:this.beforePatchListValue}})}validateRequired(t){(0,r.b)(this.component,"_required",t)}validateSize(t){(0,r.d)(this.component,"_size",t,{min:1})}validateValue(t){(0,r.c)(this.component,"_value",()=>!0,t,void 0,{hooks:{beforePatch:this.beforePatchListValue}}),this.setFormAssociatedValue(this.component._value)}componentWillLoad(t){super.componentWillLoad(),this.onStateChange=()=>{if(typeof t=="function"){const s=setTimeout(()=>{clearTimeout(s),t(y.S)})}},this.validateHeight(this.component._height),this.validateList(this.component._list),this.validateMultiple(this.component._multiple),this.validateRequired(this.component._required),this.validateSize(this.component._size),this.validateValue(this.component._value)}}const A="@windicss; *{box-sizing:border-box;font-size:inherit;hyphens:auto;letter-spacing:inherit;word-break:break-word;word-spacing:inherit}kol-heading-wc{font-weight:700}kol-icon{color:inherit}kol-span-wc{display:grid;place-items:center;width:100%}kol-span-wc>span{display:flex;gap:0.25rem;place-items:center}a,button{cursor:pointer}a.icon-only>kol-span-wc>span>span,button.icon-only>kol-span-wc>span>span{display:none}a{display:inline-flex;place-items:baseline}button{border-width:0}",p=(e,t)=>Array.isArray(e)&&e.includes(t),b=class{renderOptgroup(e,t){var s;return(0,n.h)("optgroup",{disabled:e.disabled===!0,label:e.label},(s=e.options)===null||s===void 0?void 0:s.map((a,l)=>{const i=`${t}-${l}`;return Array.isArray(a.options)?this.renderOptgroup(a,i):(0,n.h)("option",{disabled:a.disabled===!0,key:i,selected:p(this.state._value,a.value),value:i},a.label)}))}render(){const{ariaDiscribedBy:e}=(0,_.g)(this.state);return(0,n.h)(n.H,null,(0,n.h)("kol-input",{_disabled:this.state._disabled,_error:this.state._error,_hideLabel:this.state._hideLabel,_hint:this.state._hint,_icon:this.state._icon,_id:this.state._id,_required:this.state._required,_touched:this.state._touched},(0,n.h)("span",{slot:"label"},(0,n.h)("slot",null)),(0,n.h)("select",Object.assign({ref:this.catchRef,part:"select",title:"",accessKey:this.state._accessKey,"aria-describedby":e.length>0?e.join(" "):void 0,"aria-labelledby":`${this.state._id}-label`,autoCapitalize:"off",autoCorrect:"off",disabled:this.state._disabled,id:this.state._id,multiple:this.state._multiple,name:this.state._name,required:this.state._required,size:this.state._size,slot:"input",spellcheck:"false",style:{height:this.state._height}},{onClick:this.controller.onFacade.onClick,onBlur:this.controller.onFacade.onBlur,onFocus:this.controller.onFacade.onFocus},{onChange:this.onChange}),this.state._list.map((t,s)=>{const a=`-${s}`;return Array.isArray(t.options)?this.renderOptgroup(t,a):(0,n.h)("option",{disabled:t.disabled===!0,key:a,selected:p(this.state._value,t.value),value:a},t.label)}))))}constructor(e){(0,n.r)(this,e),this.catchRef=t=>{this.ref=t,(0,m.p)(this.host,this.ref)},this.onChange=t=>{var s,a;this._value=Array.from(((s=this.ref)===null||s===void 0?void 0:s.options)||[]).filter(l=>l.selected===!0).map(l=>{var i;return(i=this.controller.getOptionByKey(l.value))===null||i===void 0?void 0:i.value}),this.controller.setFormAssociatedValue(this._value),typeof((a=this.state._on)===null||a===void 0?void 0:a.onChange)=="function"&&this.state._on.onChange(t,this._value)},this._accessKey=void 0,this._alert=!0,this._disabled=void 0,this._error=void 0,this._height=void 0,this._hideLabel=void 0,this._hint="",this._icon=void 0,this._id=void 0,this._list=void 0,this._multiple=!1,this._name=void 0,this._on=void 0,this._required=void 0,this._size=void 0,this._tabIndex=void 0,this._touched=!1,this._value=void 0,this.state={_height:"",_id:"\u26A0",_list:[],_multiple:!1,_value:[]},this.controller=new g(this,"textarea",this.host)}validateAccessKey(e){this.controller.validateAccessKey(e)}validateAlert(e){this.controller.validateAlert(e)}validateDisabled(e){this.controller.validateDisabled(e)}validateError(e){this.controller.validateError(e)}validateHeight(e){this.controller.validateHeight(e)}validateHideLabel(e){this.controller.validateHideLabel(e)}validateHint(e){this.controller.validateHint(e)}validateIcon(e){this.controller.validateIcon(e)}validateId(e){this.controller.validateId(e)}validateList(e){this.controller.validateList(e)}validateMultiple(e){this.controller.validateMultiple(e)}validateName(e){this.controller.validateName(e)}validateOn(e){this.controller.validateOn(e)}validateRequired(e){this.controller.validateRequired(e)}validateSize(e){this.controller.validateSize(e)}validateTabIndex(e){this.controller.validateTabIndex(e)}validateTouched(e){this.controller.validateTouched(e)}validateValue(e){this.controller.validateValue(e)}componentWillLoad(){this._alert=this._alert===!0,this._touched=this._touched===!0,this.controller.componentWillLoad(this.onChange)}get host(){return(0,n.g)(this)}static get watchers(){return{_accessKey:["validateAccessKey"],_alert:["validateAlert"],_disabled:["validateDisabled"],_error:["validateError"],_height:["validateHeight"],_hideLabel:["validateHideLabel"],_hint:["validateHint"],_icon:["validateIcon"],_id:["validateId"],_list:["validateList"],_multiple:["validateMultiple"],_name:["validateName"],_on:["validateOn"],_required:["validateRequired"],_size:["validateSize"],_tabIndex:["validateTabIndex"],_touched:["validateTouched"],_value:["validateValue"]}}};b.style={default:A}}}]);
