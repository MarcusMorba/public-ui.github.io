"use strict";(self.webpackChunk_public_ui_storybook=self.webpackChunk_public_ui_storybook||[]).push([[1098],{"./node_modules/@public-ui/components/dist/esm/kol-select.entry.js":(O,u,d)=>{d.r(u),d.d(u,{kol_select:()=>b});var n=d("./node_modules/@public-ui/components/dist/esm/index-1a5ffdc0.js"),m=d("./node_modules/@public-ui/components/dist/esm/reuse-f9be4952.js"),_=d("./node_modules/@public-ui/components/dist/esm/controller-4dbfb429.js"),r=d("./node_modules/@public-ui/components/dist/esm/prop.validators-4fa47ba8.js"),y=d("./node_modules/@public-ui/components/dist/esm/validator-8ee8737c.js"),f=d("./node_modules/@public-ui/components/dist/esm/controller-b866c038.js");/*!
 * KoliBri - The accessible HTML-Standard
 */const v=t=>typeof t=="object"&&t!==null&&typeof t.label=="string"&&t.label.length>0&&(!Array.isArray(t.options)||t.options.find(e=>v(e)===!1)===void 0);class g extends _.I{constructor(e,s,a){super(e,s,a),this.keyOptionMap=new Map,this.getOptionByKey=l=>this.keyOptionMap.get(l),this.isValueInOptions=(l,i)=>i.find(o=>typeof o.value=="string"?o.value===l:!!Array.isArray(o.options)&&this.isValueInOptions(l,o.options))!==void 0,this.filterValuesInOptions=(l,i)=>l.filter(o=>this.isValueInOptions(o,i)!==void 0),this.beforePatchListValue=(l,i)=>{const o=i.has("_list")?i.get("_list"):this.component.state._list;if(Array.isArray(o)&&o.length>0){this.keyOptionMap.clear(),(0,f.f)(this.keyOptionMap,o);const h=i.has("_value")?i.get("_value"):this.component.state._value,c=this.filterValuesInOptions(Array.isArray(h)&&h.length>0?h:[],o);this.component._multiple===!1&&c.length===0?(i.set("_value",[o[0].value]),this.onStateChange()):Array.isArray(h)&&c.length<h.length&&(i.set("_value",c),this.onStateChange())}},this.component=e}validateHeight(e){(0,r.w)(this.component,"_height",e)}validateList(e){(0,r.c)(this.component,"_list",v,e,void 0,{hooks:{beforePatch:this.beforePatchListValue}})}validateMultiple(e){(0,r.b)(this.component,"_multiple",e,{hooks:{beforePatch:this.beforePatchListValue}})}validateRequired(e){(0,r.b)(this.component,"_required",e)}validateSize(e){(0,r.d)(this.component,"_size",e,{min:1})}validateValue(e){(0,r.c)(this.component,"_value",()=>!0,e,void 0,{hooks:{beforePatch:this.beforePatchListValue}}),this.setFormAssociatedValue(this.component._value)}componentWillLoad(e){super.componentWillLoad(),this.onStateChange=()=>{if(typeof e=="function"){const s=setTimeout(()=>{clearTimeout(s),e(y.S)})}},this.validateHeight(this.component._height),this.validateList(this.component._list),this.validateMultiple(this.component._multiple),this.validateRequired(this.component._required),this.validateSize(this.component._size),this.validateValue(this.component._value)}}const A="@windicss; *{box-sizing:border-box;font-size:inherit;hyphens:auto;letter-spacing:inherit;word-break:break-word;word-spacing:inherit}kol-heading-wc{font-weight:700}kol-icon{color:inherit}kol-span-wc{display:grid;place-items:center;width:100%}kol-span-wc>span{display:flex;gap:0.25rem;place-items:center}a,button{cursor:pointer}a.icon-only>kol-span-wc>span>span,button.icon-only>kol-span-wc>span>span{display:none}a{display:inline-flex;place-items:baseline}button{border-width:0}",p=(t,e)=>Array.isArray(t)&&t.includes(e),b=class{renderOptgroup(t,e){var s;return(0,n.h)("optgroup",{disabled:t.disabled===!0,label:t.label},(s=t.options)===null||s===void 0?void 0:s.map((a,l)=>{const i=`${e}-${l}`;return Array.isArray(a.options)?this.renderOptgroup(a,i):(0,n.h)("option",{disabled:a.disabled===!0,key:i,selected:p(this.state._value,a.value),value:i},a.label)}))}render(){const{ariaDiscribedBy:t}=(0,_.g)(this.state);return(0,n.h)(n.H,null,(0,n.h)("kol-input",{_disabled:this.state._disabled,_error:this.state._error,_hideLabel:this.state._hideLabel,_hint:this.state._hint,_icon:this.state._icon,_id:this.state._id,_required:this.state._required,_touched:this.state._touched},(0,n.h)("span",{slot:"label"},(0,n.h)("slot",null)),(0,n.h)("select",Object.assign({ref:this.catchRef,part:"select",title:"",accessKey:this.state._accessKey,"aria-describedby":t.length>0?t.join(" "):void 0,"aria-labelledby":`${this.state._id}-label`,autoCapitalize:"off",autoCorrect:"off",disabled:this.state._disabled,id:this.state._id,multiple:this.state._multiple,name:this.state._name,required:this.state._required,size:this.state._size,slot:"input",spellcheck:"false",style:{height:this.state._height}},{onClick:this.controller.onFacade.onClick,onBlur:this.controller.onFacade.onBlur,onFocus:this.controller.onFacade.onFocus},{onChange:this.onChange}),this.state._list.map((e,s)=>{const a=`-${s}`;return Array.isArray(e.options)?this.renderOptgroup(e,a):(0,n.h)("option",{disabled:e.disabled===!0,key:a,selected:p(this.state._value,e.value),value:a},e.label)}))))}constructor(t){(0,n.r)(this,t),this.catchRef=e=>{this.ref=e,(0,m.p)(this.host,this.ref)},this.onChange=e=>{var s,a;this._value=Array.from(((s=this.ref)===null||s===void 0?void 0:s.options)||[]).filter(l=>l.selected===!0).map(l=>{var i;return(i=this.controller.getOptionByKey(l.value))===null||i===void 0?void 0:i.value}),this.controller.setFormAssociatedValue(this._value),typeof((a=this.state._on)===null||a===void 0?void 0:a.onChange)=="function"&&this.state._on.onChange(e,this._value)},this._accessKey=void 0,this._alert=!0,this._disabled=void 0,this._error=void 0,this._height=void 0,this._hideLabel=void 0,this._hint="",this._icon=void 0,this._id=void 0,this._list=void 0,this._multiple=!1,this._name=void 0,this._on=void 0,this._required=void 0,this._size=void 0,this._tabIndex=void 0,this._touched=!1,this._value=void 0,this.state={_height:"",_id:"\u26A0",_list:[],_multiple:!1,_value:[]},this.controller=new g(this,"textarea",this.host)}validateAccessKey(t){this.controller.validateAccessKey(t)}validateAlert(t){this.controller.validateAlert(t)}validateDisabled(t){this.controller.validateDisabled(t)}validateError(t){this.controller.validateError(t)}validateHeight(t){this.controller.validateHeight(t)}validateHideLabel(t){this.controller.validateHideLabel(t)}validateHint(t){this.controller.validateHint(t)}validateIcon(t){this.controller.validateIcon(t)}validateId(t){this.controller.validateId(t)}validateList(t){this.controller.validateList(t)}validateMultiple(t){this.controller.validateMultiple(t)}validateName(t){this.controller.validateName(t)}validateOn(t){this.controller.validateOn(t)}validateRequired(t){this.controller.validateRequired(t)}validateSize(t){this.controller.validateSize(t)}validateTabIndex(t){this.controller.validateTabIndex(t)}validateTouched(t){this.controller.validateTouched(t)}validateValue(t){this.controller.validateValue(t)}componentWillLoad(){this._alert=this._alert===!0,this._touched=this._touched===!0,this.controller.componentWillLoad(this.onChange)}get host(){return(0,n.g)(this)}static get watchers(){return{_accessKey:["validateAccessKey"],_alert:["validateAlert"],_disabled:["validateDisabled"],_error:["validateError"],_height:["validateHeight"],_hideLabel:["validateHideLabel"],_hint:["validateHint"],_icon:["validateIcon"],_id:["validateId"],_list:["validateList"],_multiple:["validateMultiple"],_name:["validateName"],_on:["validateOn"],_required:["validateRequired"],_size:["validateSize"],_tabIndex:["validateTabIndex"],_touched:["validateTouched"],_value:["validateValue"]}}};b.style={default:A}}}]);
