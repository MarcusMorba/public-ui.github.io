/*!
 * KoliBri - The accessible HTML-Standard
 */
import{c as colorName}from"./index-1b8b837d.js";var colorParse=parse,baseHues={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function parse(r){var a,e,s=[],t=1;if("string"==typeof r)if(colorName[r])s=colorName[r].slice(),e="rgb";else if("transparent"===r)t=0,e="rgb",s=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(r)){var l=r.slice(1);t=1,(o=l.length)<=4?(s=[parseInt(l[0]+l[0],16),parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16)],4===o&&(t=parseInt(l[3]+l[3],16)/255)):(s=[parseInt(l[0]+l[1],16),parseInt(l[2]+l[3],16),parseInt(l[4]+l[5],16)],8===o&&(t=parseInt(l[6]+l[7],16)/255)),s[0]||(s[0]=0),s[1]||(s[1]=0),s[2]||(s[2]=0),e="rgb"}else if(a=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(r)){var n=a[1],i="rgb"===n;e=l=n.replace(/a$/,"");var o="cmyk"===l?4:"gray"===l?1:3;s=a[2].trim().split(/\s*[,\/]\s*|\s+/).map((function(r,a){if(/%$/.test(r))return a===o?parseFloat(r)/100:"rgb"===l?255*parseFloat(r)/100:parseFloat(r);if("h"===l[a]){if(/deg$/.test(r))return parseFloat(r);if(void 0!==baseHues[r])return baseHues[r]}return parseFloat(r)})),n===l&&s.push(1),t=i||void 0===s[o]?1:s[o],s=s.slice(0,o)}else r.length>10&&/[0-9](?:\s|\/)/.test(r)&&(s=r.match(/([0-9]+)/g).map((function(r){return parseFloat(r)})),e=r.match(/([a-z])/gi).join("").toLowerCase());else isNaN(r)?Array.isArray(r)||r.length?(s=[r[0],r[1],r[2]],e="rgb",t=4===r.length?r[3]:1):r instanceof Object&&(null!=r.r||null!=r.red||null!=r.R?(e="rgb",s=[r.r||r.red||r.R||0,r.g||r.green||r.G||0,r.b||r.blue||r.B||0]):(e="hsl",s=[r.h||r.hue||r.H||0,r.s||r.saturation||r.S||0,r.l||r.lightness||r.L||r.b||r.brightness]),t=r.a||r.alpha||r.opacity||1,null!=r.opacity&&(t/=100)):(e="rgb",s=[r>>>16,(65280&r)>>>8,255&r]);return{space:e,values:s,alpha:t}}var colorRgba=function(r){var a;Array.isArray(r)&&r.raw&&(r=String.raw.apply(null,arguments));var e=colorParse(r);if(!e.space)return[];var s=[0,0,0],t="h"===e.space[0]?[360,100,100]:[255,255,255];return(a=Array(3))[0]=Math.min(Math.max(e.values[0],s[0]),t[0]),a[1]=Math.min(Math.max(e.values[1],s[1]),t[1]),a[2]=Math.min(Math.max(e.values[2],s[2]),t[2]),"h"===e.space[0]&&(a=hsl2rgb(a)),a.push(Math.min(Math.max(e.alpha,0),1)),a};function hsl2rgb(r){var a,e,s,t,l,n=r[0]/360,i=r[1]/100,o=r[2]/100,p=0;if(0===i)return[l=255*o,l,l];for(a=2*o-(e=o<.5?o*(1+i):o+i-o*i),t=[0,0,0];p<3;)(s=n+1/3*-(p-1))<0?s++:s>1&&s--,l=6*s<1?a+6*(e-a)*s:2*s<1?e:3*s<2?a+(e-a)*(2/3-s)*6:a,t[p++]=255*l;return t}export{colorRgba as c};