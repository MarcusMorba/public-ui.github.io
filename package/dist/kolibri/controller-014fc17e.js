/*!
 * KoliBri - The accessible HTML-Standard
 */
import{b as i,d as t}from"./a11y.tipps-d591ee77.js";import{b as s,w as e,o as h,p as o,a,s as n}from"./prop.validators-82b345aa.js";import{i as d}from"./validator-fe8c60ef.js";import{i as l,a as r}from"./tab-index-7a782a55.js";import{b as c}from"./dev.utils-daaf2f39.js";const v=t=>{const o="string"==typeof t._error&&t._error.length>0&&!0===t._touched,e="string"==typeof t._hint&&t._hint.length>0,i=[];return!0===o&&i.push(`${t._id}-error`),!0===e&&i.push(`${t._id}-hint`),{hasError:o,hasHint:e,ariaDiscribedBy:i}},u=c(),f=(t,o)=>{const e=t;"object"==typeof e&&null!==e&&(d(e.right,1)&&(e.right={icon:e.right}),d(e.left,1)&&(e.left={icon:e.left}),o.set("_icon",e))};class p extends class{constructor(t,o,e){var i,n,s,a,h;if(this.syncFormAssociatedName=()=>{var t;u&&(null===(t=this.formAssociated)||void 0===t||t.setAttribute("name",this.component.state._name||this.component.state._id))},this.setFormAssociatedValue=(t=null)=>{var o;u&&(null===(o=this.formAssociated)||void 0===o||o.setAttribute("value",t))},this.component=t,this.name=o,this.host=e,u){this.formAssociated=document.createElement("input"),this.formAssociated.setAttribute("type","hidden");const t=(null===(i=this.host)||void 0===i?void 0:i.children)||[];for(let o=0;o<t.length;o++)"INPUT"===(null===(n=this.host)||void 0===n?void 0:n.children[o].tagName)&&(null===(s=this.host)||void 0===s||s.removeChild(null===(a=this.host)||void 0===a?void 0:a.children[o]));null===(h=this.host)||void 0===h||h.appendChild(this.formAssociated)}}validateAlert(t){s(this.component,"_alert",t)}validateTouched(t){s(this.component,"_touched",t)}componentWillLoad(){this.validateAlert(this.component._alert),this.validateTouched(this.component._touched)}}{constructor(t,o,e){super(t,o,e),this.hideLabel=!1,this.onFacade={onBlur:this.onBlur.bind(this),onChange:this.onChange.bind(this),onClick:this.onClick.bind(this),onFocus:this.onFocus.bind(this)},this.component=t}validateAccessKey(t){e(this.component,"_accessKey",t)}validateAdjustHeight(t){s(this.component,"_adjustHeight",t)}validateDisabled(t){s(this.component,"_disabled",t),!0===t&&i()}validateError(t){e(this.component,"_error",t)}validateHideLabel(t){s(this.component,"_hideLabel",t)}validateHint(t){e(this.component,"_hint",t)}validateIcon(t){h(t,(()=>{try{t=o(t)}catch(t){}a(this.component,"_icon",(t=>"object"==typeof t&&null!==t&&(d(t.left,1)||l(t.left)||d(t.right,1)||l(t.right))),new Set(["KoliBriInputIcon"]),t,{hooks:{beforePatch:f},required:!0})}))}validateId(o){e(this.component,"_id",o,{hooks:{afterPatch:this.syncFormAssociatedName}}),void 0===o&&t("Eine eindeutige ID an den Eingabefeldern ist nicht zwingend erforderlich, könnte aber für die E2E-Tests relevant sein.")}validateName(o){e(this.component,"_name",o,{hooks:{afterPatch:this.syncFormAssociatedName}}),void 0===o&&t("Ein Name an den Eingabefeldern ist nicht zwingend erforderlich, kann aber für die Autocomplete-Funktion des Eingabefeldes relevant sein.")}validateOn(t){"object"==typeof t&&n(this.component,"_on",t)}validateSmartButton(t){h(t,(()=>{try{t=o(t)}catch(t){}n(this.component,"_smartButton",t)}))}validateTabIndex(t){r(this.component,t)}componentWillLoad(){super.componentWillLoad(),this.validateAccessKey(this.component._accessKey),this.validateAdjustHeight(this.component._adjustHeight),this.validateError(this.component._error),this.validateDisabled(this.component._disabled),this.validateHideLabel(this.component._hideLabel),this.validateHint(this.component._hint),this.validateIcon(this.component._icon),this.validateId(this.component._id),this.validateName(this.component._name),this.validateSmartButton(this.component._smartButton),this.validateOn(this.component._on),this.validateTabIndex(this.component._tabIndex),this.syncFormAssociatedName()}onBlur(t){var o;this.component._alert=!0,this.component._touched=!0,"function"==typeof(null===(o=this.component._on)||void 0===o?void 0:o.onBlur)&&this.component._on.onBlur(t)}onChange(t){var o;this.setFormAssociatedValue(t.target.value),"function"==typeof(null===(o=this.component._on)||void 0===o?void 0:o.onChange)&&this.component._on.onChange(t,t.target.value)}onClick(t){var o;"function"==typeof(null===(o=this.component._on)||void 0===o?void 0:o.onClick)&&this.component._on.onClick(t)}onFocus(t){var o;this.component._alert=!0,"function"==typeof(null===(o=this.component._on)||void 0===o?void 0:o.onFocus)&&this.component._on.onFocus(t)}setValue(t,o){var e;this.setFormAssociatedValue(o),"function"==typeof(null===(e=this.component._on)||void 0===e?void 0:e.onChange)&&this.component._on.onChange(t,o)}}export{p as I,v as g};